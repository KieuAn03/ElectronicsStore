
{% load static %}
<div class = "container">
{% include 'base/navbar.html' %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="{% static 'js/bootstrap.bundle.min.js' %}" type="text/javascript"></script>
	<link href="{% static 'css/bootstrap.css' %}" rel="stylesheet" type="text/css"/>
	<!-- custom css-->
	<link rel = "stylesheet" href = "{% static 'css/custom.css' %}">
	<!-- font-awesome -->
	<link href="{% static 'font/css/all.min.css' %}" rel="stylesheet" type="text/css">
    <div class="py-5 text-center">
      
        <h2>Giỏ hàng</h2>
      </div>
    <section class="h-100 h-custom " style="margin-top: -60px;">
        <div class="container h-100 py-5">
          <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col">
      
              <div class="table-responsive table-wrapper-scroll-y my-custom-scrollbar">
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col" class="h5">Danh mục hàng</th>
                      <th scope="col">Loại</th>
                      <th scope="col">Số lượng</th>
                      <th scope="col">Giá</th>
                      <th scope="col"></th>
                    </tr>
                  </thead>
                  <tbody>
                    <section >
                      {%for item in cart_items_phone%}
                    <tr>
                      <th scope="row">
                        <div class="d-flex align-items-center">
                          <img src="{{item.product.image0.url}}" class="img-fluid rounded-3"
                            style="width: 120px;" alt="Book">
                          <div class="flex-column ms-4">
                            <p class="mb-2"> {{item.product.product_id.Name}}</p>
                            <p class="mb-0">{{item.color.color}}</p>
                            <p class="mb-0">
                              {{item.price_add.ram }}-{{item.price_add.Storage}}
                          </p>


                         
                          </div>
                        </div>
                      </th>
                      <td class="align-middle">
                        <p class="mb-0" style="font-weight: 500;">Điện thoại</p>
                      </td>
                      <td class="align-middle">
                        <div class="d-flex flex-row">
                          <button class="btn btn-link px-2"
                            onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                            <i class="fas fa-minus"></i>
                          </button>
      
                          <input id="form1" min="0" name="quantity" value="{{item.quantity}}" type="number"
                            class="form-control form-control-sm" style="width: 50px;" />
      
                          <button class="btn btn-link px-2"
                            onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                            <i class="fas fa-plus"></i>
                          </button>
                        </div>
                      </td>
                      <td class="align-middle">
                        <p class="mb-0" style="font-weight: 500;">{{item.get_product_price}}</p>
                      </td>
                      <td class="mb-0" style="font-weight: 500;">
                        <a href="{% url 'remove_cart' item.id %} " class="btn btn-light btn-round"> Xóa</a>

                      </td>
                    </tr>

                    {%endfor%}
                    {%for item in cart_items_tablet%}
                    <tr>
                      <th scope="row">
                        <div class="d-flex align-items-center">
                          <img src="{{item.product.image0.url}}" class="img-fluid rounded-3"
                            style="width: 120px;" alt="Book">
                          <div class="flex-column ms-4">
                            <p class="mb-2"> {{item.product.product_id.Name}}</p>
                            <p class="mb-0">{{item.color.color}}</p>
                            <p class="mb-0">
                              {{item.price_add.ram }}-{{item.price_add.Storage}}
                          </p>
                          </div>
                        </div>
                      </th>
                      <td class="align-middle">
                        <p class="mb-0" style="font-weight: 500;">Tablet</p>
                      </td>
                      <td class="align-middle">
                        <div class="d-flex flex-row">
                          <button class="btn btn-link px-2"
                            onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                            <i class="fas fa-minus"></i>
                          </button>
      
                          <input id="form1" min="0" name="quantity" value="{{item.quantity}}" type="number"
                            class="form-control form-control-sm" style="width: 50px;" />
      
                          <button class="btn btn-link px-2"
                            onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                            <i class="fas fa-plus"></i>
                          </button>
                        </div>
                      </td>
                      <td class="align-middle">
                        <p class="mb-0" style="font-weight: 500;">{{item.get_product_price}}</p>
                      </td>
                      <td class="mb-0" style="font-weight: 500;">
                        <a href="{% url 'remove_cart' item.id %} " class="btn btn-light btn-round"> Xóa</a>

                      </td>
                    </tr>

                    {%endfor%}
                    {%for item in cart_items_laptop%}
                    <tr>
                      <th scope="row">
                        <div class="d-flex align-items-center">
                          <img src="{{item.product.image0.url}}" class="img-fluid rounded-3"
                            style="width: 120px;" alt="Book">
                          <div class="flex-column ms-4">
                            <p class="mb-2"> {{item.product.product_id.Name}}</p>
                            
                          </div>
                        </div>
                      </th>
                      <td class="align-middle">
                        <p class="mb-0" style="font-weight: 500;">Laptop</p>
                      </td>
                      <td class="align-middle">
                        <div class="d-flex flex-row">
                          <button class="btn btn-link px-2"
                            onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                            <i class="fas fa-minus"></i>
                          </button>
      
                          <input id="form1" min="0" name="quantity" value="{{item.quantity}}" type="number"
                            class="form-control form-control-sm" style="width: 50px;" />
      
                          <button class="btn btn-link px-2"
                            onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                            <i class="fas fa-plus"></i>
                          </button>
                        </div>
                      </td>
                      <td class="align-middle">
                        <p class="mb-0" style="font-weight: 500;">{{item.get_product_price}}</p>
                      </td>
                      <td class="mb-0" style="font-weight: 500;">
                        <a href="{% url 'remove_cart' item.id %} " class="btn btn-light btn-round"> Xóa</a>

                      </td>
                    </tr>

                    {%endfor%}
                    {%for item in cart_items_watch%}
                    <tr>
                      <th scope="row">
                        <div class="d-flex align-items-center">
                          <img src="{{item.product.image0.url}}" class="img-fluid rounded-3"
                            style="width: 120px;" alt="Book">
                          <div class="flex-column ms-4">
                            <p class="mb-2"> {{item.product.product_id.Name}}</p>
                            
                          </div>
                        </div>
                      </th>
                      <td class="align-middle">
                        <p class="mb-0" style="font-weight: 500;">Đồng hồ</p>
                      </td>
                      <td class="align-middle">
                        <div class="d-flex flex-row">
                          <button class="btn btn-link px-2"
                            onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                            <i class="fas fa-minus"></i>
                          </button>
      
                          <input id="form1" min="0" name="quantity" value="{{item.quantity}}" type="number"
                            class="form-control form-control-sm" style="width: 50px;" />
      
                          <button class="btn btn-link px-2"
                            onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                            <i class="fas fa-plus"></i>
                          </button>
                        </div>
                      </td>
                      <td class="align-middle">
                        <p class="mb-0" style="font-weight: 500;">{{item.get_product_price}}</p>
                      </td>
                      <td class="mb-0" style="font-weight: 500;">
                        <a href="{% url 'remove_cart' item.id %} " class="btn btn-light btn-round"> Xóa</a>

                      </td>
                    </tr>

                    {%endfor%}
                  </tbody>
                </table>
              </div>
            </section>

              <div class="card shadow-2-strong mb-5 mb-lg-0" style="border-radius: 16px;">
                <div class="card-body p-4">
      
                  <div class="row">
                    <div class="col-md-6 col-lg-4 col-xl-3 mb-4 mb-md-0">
                     
                    </div>
                    <div class="col-md-6 col-lg-4 col-xl-6">
                    </div>
                    <div class="col-lg-4 col-xl-3">
                      <div class="d-flex justify-content-between" style="font-weight: 500;">
                        <p class="mb-2">Giá gốc</p>
                        <p class="mb-2">{{cart.total}} đ</p>
                      </div>
      
                      <div class="d-flex justify-content-between" style="font-weight: 500;">
                        <p class="mb-0">Giá khuyến mãi</p>
                        <p class="mb-0">0000đ</p>
                      </div>
      
                      <hr class="my-4">
                      <a href="{% url 'checkout'%}">
                      <button type="button" class="btn btn-primary btn-block btn-lg">
                          <div class="d-flex justify-content-between">
                            <span>Thanh toán</span>
                            <span>{{cart.total}} đ</span>
                          </div>
                        </button>
                      </a>
      
                    </div>
                  </div>
      
                </div>
              </div>
      
            </div>
          </div>
        </div>
      </section>

      {% include 'base/footer.html' %}
    



<style>
  .my-custom-scrollbar {
    position: relative;
    height: 400px;
    overflow: auto;
    }
  .table-wrapper-scroll-y {
    display: block;
    }
 

    @media (min-width: 1025px) {
        .h-custom {
        height: 60vh !important;
        }
        }
   
</style>
<script>
  
  const hardinfo = [];
  const priceinfo = [];





  function updateprice(index , option){
    const hardall = {{cart_items_phone.index.product.phoneoptionhard_set.all}};
    const price = hardall[option.selectedIndex-1].price_add;
    
  }
</script>

